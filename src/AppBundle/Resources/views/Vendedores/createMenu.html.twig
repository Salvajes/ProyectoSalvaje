{% extends 'AppBundle::baseVendedores.html.twig' %}

{% block style %}
    <style>
        .bar-action{
            background-color: white;
            border-radius: 4px;
            display: flex;
            justify-content: flex-start;
            align-items: center;
        }
        .bar-action li {
            margin-right: 10px;
        }
        .editable input[type="text"] {
            padding: 3px 2px;
            border: 1px solid transparent;
            border-radius: 2px;
            font-size: 1.1rem;
            transition: box-shadow 0.3s, border 0.3s;
        }
        .editable input[type="text"]:focus {
            border: 1px solid #02C39A;
            box-shadow: 0 0 5px 1px #02C39A;
        }
    </style>
{% endblock %}

{% block content %}
    <div class="panel">
        <div class="panel-header">
            <span class="panel-title">Mis Menús</span>
            <ul class="bar-action">
                <li>
                    <span class="btn-action" id="createMenuBtn">Crear menú</span>
                </li>
            </ul>
        </div>
        <div class="panel-body">
            <a href="#" data-menu-id="1">
                <div class="circle-action">
                    <span>Men&uacute; 1</span>
                </div>
            </a>
        </div>
    </div>
    <div id="menus">

    </div>
{% endblock %}

{% block script %}
    <script>

        var mnuStr = "<div class='panel'>" +
                        "<div class='panel-header'>" +
                            "<span class='editable'><input type='text' value='Titulo'></span>" +
                            "<ul class='bar-action'>" +
                                "<li class='close'>&times;</li>"+
                            "</ul>"
                        "</div>" +
                        "<div class='panel-body'>" +
                            "LISTA" +
                        "</div>"
                    "</div>";

        function createMenuPanel() {
            $("#menus").append(mnuStr);
        }

        function closeMenuPanel(panel) {
            $(panel).remove();
        }

        function replaceToEdit(toEdit) {
            var text = $(toEdit).text();
            var input = "<input type=''text class='editing' value='"+ text +"'/>";
            $(toEdit).replaceWith(input);
        }

        $(document).ready(function() {

            $("#createMenuBtn").click(function() {
                createMenuPanel();
            });

            $("#menus").on("click", ".panel .close", function() {
                var panel = $(this).closest(".panel");
                closeMenuPanel(panel);
            });

            $("#menus").on("click", ".panel .editable", function() {
                //replaceToEdit(this);
            });

        });

    </script>
{% endblock %}